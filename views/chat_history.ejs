<!DOCTYPE html>
<html>
<head>
  <title>Chat History</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    h1 {
      text-align: center;
    }

    .message {
      margin-bottom: 10px;
      padding: 10px;
      background-color: #f1f1f1;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>Chat History</h1>

  <% if (chatHistory.length > 0) { %>
    <% chatHistory.forEach(message => { %>
      <div class="message">
        <p><strong>Sender:</strong> <%= message.username %></p>
        <p><strong>Content:</strong> <%= message.content %></p>
        <p><strong>Timestamp:</strong> <%= message.createdAt %></p>
      </div>
    <% }); %>
  <% } else { %>
    <p>No chat history available.</p>
  <% } %>

  <% if (totalPages > 1) { %>
    <div class="pagination">
      <% for (let i = 1; i <= totalPages; i++) { %>
        <% if (i === currentPage) { %>
          <span><%= i %></span>
        <% } else { %>
          <a href="/chat_history?page=<%= i %>"><%= i %></a>
        <% } %>
      <% } %>
    </div>
  <% } %>
</body>
</html>
